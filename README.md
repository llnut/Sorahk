<div align="center">

# ğŸŒ¸ Sorahk ğŸŒ¸

### âœ¨ *A Lightweight, Efficient Auto Key Press Tool* âœ¨

<p align="center">
  <img src="https://img.shields.io/badge/Platform-Windows-blue?style=flat-square&logo=windows" alt="Platform"/>
  <img src="https://img.shields.io/badge/Language-Rust-orange?style=flat-square&logo=rust" alt="Language"/>
  <img src="https://img.shields.io/badge/License-MIT-green?style=flat-square" alt="License"/>
  <img src="https://img.shields.io/badge/GUI-egui-purple?style=flat-square" alt="GUI"/>
</p>

---

</div>

## ğŸ“– Overview

**Sorahk** is a Rust-based auto-key press tool designed for Windows, providing configurable key repeat automation with an anime-inspired graphical interface. Built using the Windows crate and egui framework, it offers low-latency input handling and runs efficiently in the system tray with minimal resource usage.

Suitable for gaming, productivity automation, and other scenarios requiring rapid key repetition. ğŸ®

> âš ï¸ **Platform Requirement**: This application is designed exclusively for Windows and requires **Windows 10 or later**.

---

## ğŸ¨ Screenshots

> ğŸ’¡ *Click on any image to view full size!*

<div align="center">

### ğŸŒ¸ Light Theme
*Pastel colors with anime-inspired design*

<table>
  <tr>
    <td align="center" width="25%">
      <a href="https://github.com/user-attachments/assets/f674ed34-b119-41c5-91b6-64da34c0b612">
        <img src="https://github.com/user-attachments/assets/f674ed34-b119-41c5-91b6-64da34c0b612" alt="Main Window - Light Theme" width="100%"/>
      </a>
      <br/>
      <sub>ğŸ–¥ï¸ <b>Main Window</b></sub>
    </td>
    <td align="center" width="25%">
      <a href="https://github.com/user-attachments/assets/3f23e328-1171-4b74-a99b-dfee3f120a41">
        <img src="https://github.com/user-attachments/assets/3f23e328-1171-4b74-a99b-dfee3f120a41" alt="Settings Dialog - Light Theme" width="100%"/>
      </a>
      <br/>
      <sub>âš™ï¸ <b>Settings Dialog</b></sub>
    </td>
      <td align="center" width="25%">
        <a href="https://github.com/user-attachments/assets/ee19f744-e810-49cb-bf86-3a82e74207e1">
          <img src="https://github.com/user-attachments/assets/ee19f744-e810-49cb-bf86-3a82e74207e1" alt="About Dialog - Light Theme" width="100%"/>
        </a>
        <br/>
        <sub>ğŸ’« <b>About Dialog</b></sub>
    </td>
    <td align="center" width="25%">
      <a href="https://github.com/user-attachments/assets/4f3844b9-3b34-4ab6-ab2c-509cf8008490">
        <img src="https://github.com/user-attachments/assets/4f3844b9-3b34-4ab6-ab2c-509cf8008490" alt="Close Dialog - Light Theme" width="100%"/>
      </a>
      <br/>
      <sub>ğŸšª <b>Close Dialog</b></sub>
    </td>
  </tr>
</table>

---

### ğŸŒ™ Dark Theme
*Dark interface optimized for extended use*

<table>
  <tr>
    <td align="center" width="25%">
      <a href="https://github.com/user-attachments/assets/71545c71-d1f0-4806-8fa4-8d91196fb595">
        <img src="https://github.com/user-attachments/assets/71545c71-d1f0-4806-8fa4-8d91196fb595" alt="Main Window - Dark Theme" width="100%"/>
      </a>
      <br/>
      <sub>ğŸ–¥ï¸ <b>Main Window</b></sub>
    </td>
    <td align="center" width="25%">
      <a href="https://github.com/user-attachments/assets/80724acf-16ad-4780-815c-7319904bccf8">
        <img src="https://github.com/user-attachments/assets/80724acf-16ad-4780-815c-7319904bccf8" alt="Settings Dialog - Dark Theme" width="100%"/>
      </a>
      <br/>
      <sub>âš™ï¸ <b>Settings Dialog</b></sub>
    </td>
    <td align="center" width="25%">
      <a href="https://github.com/user-attachments/assets/279f2f4c-f0cf-4029-99bd-4ef60a1c7e35">
        <img src="https://github.com/user-attachments/assets/279f2f4c-f0cf-4029-99bd-4ef60a1c7e35" alt="About Dialog - Dark Theme" width="100%"/>
      </a>
      <br/>
      <sub>ğŸ’« <b>About Dialog</b></sub>
    </td>
    <td align="center" width="25%">
      <a href="https://github.com/user-attachments/assets/c728556e-c226-4f2b-a940-79c92112ac2b">
        <img src="https://github.com/user-attachments/assets/c728556e-c226-4f2b-a940-79c92112ac2b" alt="Close Dialog - Dark Theme" width="100%"/>
      </a>
      <br/>
      <sub>ğŸšª <b>Close Dialog</b></sub>
    </td>
  </tr>
</table>

---

### âœ¨ UI Highlights

<table>
  <tr>
    <td align="center" width="33%">
      <h3>ğŸ¨</h3>
      <b>Anime-inspired Design</b>
      <br/>
      <sub>Pastel palettes and gradient backgrounds</sub>
    </td>
    <td align="center" width="33%">
      <h3>âœ¨</h3>
      <b>Borderless Interface</b>
      <br/>
      <sub>Clean interface with subtle shadows</sub>
    </td>
    <td align="center" width="33%">
      <h3>ğŸŒˆ</h3>
      <b>Dual Theme Support</b>
      <br/>
      <sub>Light and dark modes available</sub>
    </td>
  </tr>
  <tr>
    <td align="center" width="33%">
      <h3>ğŸ”„</h3>
      <b>Responsive Layout</b>
      <br/>
      <sub>Adapts to different window sizes</sub>
    </td>
    <td align="center" width="33%">
      <h3>ğŸ“œ</h3>
      <b>Scrollable Content</b>
      <br/>
      <sub>Supports multiple key mappings</sub>
    </td>
    <td align="center" width="33%">
      <h3>ğŸ¯</h3>
      <b>Process Whitelist</b>
      <br/>
      <sub>Target specific applications</sub>
    </td>
  </tr>
</table>
</div>

---

## âœ¨ Features

### ğŸ¨ **User Interface**
- **Modern GUI** â€“ Anime-inspired interface with intuitive settings management
- **Multi-language Support** â€“ 4 languages available: English, ç®€ä½“ä¸­æ–‡, ç¹é«”ä¸­æ–‡, æ—¥æœ¬èª
- **Dual Theme Support** â€“ Switch between light and dark themes with persistent preferences
- **Real-time Status** â€“ Monitor active mappings and system state
- **System Tray Integration** â€“ Minimize to tray for background operation

### âš™ï¸ **Core Functionality**
- **Flexible Input Mapping** â€“ Map any trigger input (keyboard, mouse, or HID device) to auto-repeat any target action
- **Multiple Target Keys** â€“ Support for simultaneous key presses (e.g., diagonal movement with `MOUSE_UP` + `MOUSE_LEFT`)
- **Advanced Combo Key Support** â€“ Full combo key triggers and outputs with:
  - Single or multiple modifier keys (e.g., `LALT+A`, `LCTRL+LSHIFT+F`)
  - Left/right modifier distinction (e.g., `LSHIFT+A` and `RSHIFT+A` are treated as different triggers)
  - Single modifier keys as triggers (e.g., `LSHIFT` alone)
  - Multiple simultaneous combos with shared modifiers (e.g., `LALT+1`, `LALT+2`)
  - HID combo keys with multiple buttons pressed simultaneously
- **Mouse Button Support** â€“ Full support for left, right, middle, and side mouse buttons (X1/X2)
- **Mouse Movement Control** â€“ Programmable cursor movement with directional mapping
  - Eight-directional movement (up, down, left, right, and diagonals)
  - Adjustable movement speed (1-100 pixels per interval)
  - Visual direction selector dialog in settings
  - Compatible with turbo mode for smooth continuous movement
- **Controller Support** â€“ Multi-API input handling for gaming devices
  - **XInput** â€“ Native Xbox controller support with polling-based input
  - **Raw Input** â€“ HID device integration for other gamepads and joysticks
  - Interactive activation dialog for first-time device setup
  - Single button and combo key mapping
  - Press/release detection with turbo-fire capability
  - Persistent device baseline data
- **Per-Mapping Turbo Control** â€“ Individual turbo mode toggle for each mapping
- **Adjustable Timing** â€“ Configure repeat interval and press duration per mapping
- **Global Toggle** â€“ Quick enable/disable with a single hotkey (default: DELETE)
- **Process Whitelist** â€“ Optional filtering to restrict turbo-fire to specific applications
- **Multi-input Support** â€“ Configure multiple independent input mappings simultaneously

### ğŸš€ **Performance & Reliability**
- **Multi-threaded Processing** â€“ Worker pool with load balancing for efficient key handling
- **Lock-free Concurrency** â€“ Uses scc containers for concurrent data access without blocking
- **Multi-tier Caching** â€“ Thread-local and global caches for device information
- **Optional SIMD Acceleration** â€“ AVX2 and POPCNT support (compile-time feature)
- **Cache Invalidation** â€“ Automatic cache synchronization on device changes
- **Native Input Injection** â€“ Uses Windows keyboard event APIs for reliable operation
- **Low Resource Usage** â€“ Minimal CPU and memory footprint

### ğŸ”” **Additional Features**
- **Device Manager** â€“ Dedicated GUI for controller configuration
- **Toast Notifications** â€“ Windows native notifications for status updates
- **TOML Configuration** â€“ Simple, human-readable configuration file
- **Auto-configuration** â€“ Automatic generation of default settings on first run
- **Always on Top** â€“ Optional window pinning for easy access

---

## ğŸ¯ Use Cases

- ğŸ® **Gaming** â€“ Rapid fire in action games, keyboard-based cursor control
- ğŸ“ **Productivity** â€“ Automate repetitive text input tasks, cursor positioning
- ğŸ¨ **Creative Work** â€“ Streamline workflow in design applications
- ğŸ§ª **Testing** â€“ Generate repetitive input for software testing
- â™¿ **Accessibility** â€“ Alternative cursor control methods for users with mobility needs

---

## ğŸ› ï¸ Configuration

Sorahk reads settings from `Config.toml` located in the executable directory. If the file doesn't exist, a default configuration is created automatically on first launch.

### ğŸ“ Example Configuration

```toml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#  ğŸŒ¸ Sorahk Configuration File ğŸŒ¸
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€ General Settings â”€â”€â”€
show_tray_icon = true        # Show system tray icon on startup
show_notifications = false   # Enable/disable system notifications
always_on_top = false        # Keep window always on top of other windows
dark_mode = false            # Use dark theme (false = light theme, true = dark theme)
language = "English"         # UI language: "English", "SimplifiedChinese", "TraditionalChinese", "Japanese"

# â”€â”€â”€ Performance Settings â”€â”€â”€
input_timeout = 10           # Input timeout in ms
interval = 5                 # Default repeat interval between keystrokes (ms)
event_duration = 5           # Duration of each simulated key press (ms)
worker_count = 0             # Number of turbo workers (0 = auto-detect based on CPU cores)

# â”€â”€â”€ Control Settings â”€â”€â”€
switch_key = "DELETE"        # Reserved key to toggle SoraHK behavior

# â”€â”€â”€ Process Whitelist â”€â”€â”€
# Process whitelist (empty = all processes enabled)
# Only processes in this list will have turbo-fire enabled
process_whitelist = []       # Example: ["notepad.exe", "game.exe"]

# â”€â”€â”€ Key Mappings â”€â”€â”€
# Key mapping definitions
[[mappings]]
trigger_key = "A"            # Physical key you press
target_key = "A"             # Key that gets repeatedly sent
interval = 5                 # Override global interval
event_duration = 5           # Override global press duration
turbo_enabled = true         # Enable turbo mode (true = auto-repeat, false = single press)

[[mappings]]
trigger_key = "B"            # Physical key you press
target_key = "F"             # Key that gets repeatedly sent
turbo_enabled = true         # Enable turbo mode (true = auto-repeat, false = single press)

[[mappings]]
trigger_key = "F1"           # Physical key you press
target_key = "1"             # Key that gets repeatedly sent
turbo_enabled = true         # Enable turbo mode (true = auto-repeat, false = single press)

[[mappings]]
trigger_key = "F2"           # Physical key you press
target_key = "2"             # Key that gets repeatedly sent
turbo_enabled = true         # Enable turbo mode (true = auto-repeat, false = single press)

[[mappings]]
trigger_key = "LSHIFT"       # Physical key you press
target_key = "3"             # Key that gets repeatedly sent
turbo_enabled = true         # Enable turbo mode (true = auto-repeat, false = single press)

# Mouse button examples
[[mappings]]
trigger_key = "LBUTTON"      # Left mouse button trigger
target_key = "LBUTTON"       # Auto-click left button
turbo_enabled = true         # Enable turbo mode (true = auto-repeat, false = single press)

[[mappings]]
trigger_key = "XBUTTON1"     # Side button 1 trigger
target_key = "SPACE"         # Press space when side button is held
turbo_enabled = true         # Enable turbo mode (true = auto-repeat, false = single press)

# Mouse movement examples
[[mappings]]
trigger_key = "W"            # Trigger key
target_key = "MOUSE_UP"      # Move cursor upward
move_speed = 5               # Speed in pixels (1-100)
interval = 1                 # Update interval in ms
turbo_enabled = true         # Required for continuous movement

[[mappings]]
trigger_key = "S"
target_key = "MOUSE_DOWN"
move_speed = 5
interval = 1
turbo_enabled = true

[[mappings]]
trigger_key = "A"
target_key = "MOUSE_LEFT"
move_speed = 5
interval = 1
turbo_enabled = true

[[mappings]]
trigger_key = "D"
target_key = "MOUSE_RIGHT"
move_speed = 5
interval = 1
turbo_enabled = true

# Diagonal movement
[[mappings]]
trigger_key = "Q"
target_key = "MOUSE_UP_LEFT"
move_speed = 5
interval = 1
turbo_enabled = true

# Mouse scroll examples
[[mappings]]
trigger_key = "PGUP"         # Trigger key
target_key = "SCROLL_UP"     # Scroll wheel upward
move_speed = 120             # Wheel delta (120 = standard notch)
interval = 50                # Repeat interval in ms
turbo_enabled = true         # true = continuous, false = Windows repeat

[[mappings]]
trigger_key = "PGDN"
target_key = "SCROLL_DOWN"
move_speed = 240             # Wheel delta (240 = 2x)
interval = 50
turbo_enabled = true

# Key combination examples
[[mappings]]
trigger_key = "LALT+A"       # Trigger combo
target_key = "B"             # Target key
turbo_enabled = true

[[mappings]]
trigger_key = "LALT+1"
target_key = "F1"
turbo_enabled = true

# XInput controller examples (readable format)
[[mappings]]
trigger_key = "GAMEPAD_045E_A"        # Xbox controller A button
target_key = "SPACE"
turbo_enabled = true

[[mappings]]
trigger_key = "GAMEPAD_045E_LS_RightUp+A"  # Left stick right-up + A
target_key = "LCTRL+C"
turbo_enabled = true

[[mappings]]
trigger_key = "GAMEPAD_045E_DPad_Up+B"     # D-Pad up + B button
target_key = "F"
turbo_enabled = true

# Raw Input device examples
[[mappings]]
trigger_key = "GAMEPAD_045E_0B05_ABC123_B2.0"  # Raw Input format
target_key = "SPACE"
turbo_enabled = true

[[mappings]]
trigger_key = "LCTRL+LSHIFT+F" # Multiple modifiers
target_key = "LALT+F4"
turbo_enabled = true

[[mappings]]
trigger_key = "LSHIFT"       # Single modifier key as trigger
target_key = "SPACE"         # Auto-press space when holding left Shift

# â”€â”€â”€ HID Device Baselines â”€â”€â”€
# Device activation data (managed automatically by activation dialog)
# Do not edit manually unless necessary
# Format: VID:PID:Serial
[[hid_baselines]]
device_id = "045E:028E:1234567"
baseline_data = [0, 255, 127, 255, 127, 0, 128, 0, 0, 0, 0]

# Note: Left and right modifiers are distinguished (LSHIFT â‰  RSHIFT)
# Note: Multiple combos with shared modifiers work simultaneously
# Example: LALT+1 â†’ auto-fire 1, LALT+2 â†’ auto-fire 2 (both can work at once)
```

### ğŸ”‘ Supported Input Names

Input names support both keyboard keys and mouse buttons:

**Keyboard Keys:**
- **Letters**: `A`, `B`, `C`, ..., `Z`
- **Numbers**: `0`, `1`, `2`, ..., `9`
- **Numpad**: `NUMPAD0`, `NUMPAD1`, ..., `NUMPAD9`, `MULTIPLY`, `ADD`, `SUBTRACT`, `DECIMAL`, `DIVIDE`
- **Function Keys**: `F1`, `F2`, ..., `F24`
- **Navigation**: `UP`, `DOWN`, `LEFT`, `RIGHT`, `HOME`, `END`, `PAGEUP`, `PAGEDOWN`
- **Editing**: `SPACE`, `RETURN`, `TAB`, `ESCAPE`, `BACKSPACE`, `DELETE`, `INSERT`
- **System**: `SNAPSHOT` (Print Screen), `PAUSE`, `SCROLL` (Scroll Lock), `CAPITAL` (Caps Lock), `NUMLOCK`
- **Modifiers**: `LSHIFT`, `RSHIFT`, `LCTRL`, `RCTRL`, `LALT`, `RALT`, `LWIN`, `RWIN`
  - Generic forms: `SHIFT`, `CTRL`, `ALT`, `WIN` (mapped to left variant: LSHIFT, LCTRL, LALT, LWIN)
  - Can be used alone as triggers (e.g., `LSHIFT` to auto-fire on left Shift press)
  - **Important**: `LSHIFT` and `RSHIFT` are distinct keys; `LSHIFT+A` will only trigger with left Shift
- **OEM Keys**: `OEM_1` (;:), `OEM_2` (/?), `OEM_3` (\`~), `OEM_4` ([{), `OEM_5` (\\|), `OEM_6` (]}), `OEM_7` ('"), `OEM_PLUS` (=+), `OEM_COMMA` (,<), `OEM_MINUS` (-\_), `OEM_PERIOD` (.>), `OEM_102` (<>)

**Key Combinations:**
- Combine keys with `+`: `LALT+A`, `LCTRL+LSHIFT+F`, `LALT+RSHIFT+1`
- Both trigger and target can be combos: `LCTRL+C` â†’ `LCTRL+V`
- Multiple combos with shared modifiers work simultaneously
- **Important**: Modifiers are matched exactly; `LSHIFT+1` requires left Shift, `RSHIFT+1` requires right Shift

**Mouse Buttons:**
- **Left Button**: `LBUTTON`, `LMOUSE`, `LMB`
- **Right Button**: `RBUTTON`, `RMOUSE`, `RMB`
- **Middle Button**: `MBUTTON`, `MMOUSE`, `MMB`
- **Side Button 1**: `XBUTTON1`, `X1`, `MB4`
- **Side Button 2**: `XBUTTON2`, `X2`, `MB5`

**Mouse Movement:**
- **Cardinal Directions**: `MOUSE_UP`, `MOUSE_DOWN`, `MOUSE_LEFT`, `MOUSE_RIGHT`
- **Diagonal Directions**: `MOUSE_UP_LEFT`, `MOUSE_UP_RIGHT`, `MOUSE_DOWN_LEFT`, `MOUSE_DOWN_RIGHT`
- **Configuration**: Requires `move_speed` (1-100 pixels) and `interval` (update frequency in ms)
- **Usage**: Requires `turbo_enabled = true` for continuous movement
- **GUI Support**: Visual direction selector in settings

**Mouse Scroll:**
- **Directions**: `SCROLL_UP`, `SCROLL_DOWN`
- **Configuration**: Requires `move_speed` (wheel delta, 120 = standard notch) and `interval` (repeat frequency in ms)
- **Usage**: Works with both turbo and non-turbo modes
- **GUI Support**: Visual direction selector in settings

**HID Devices (Gamepads/Joysticks):**

**XInput Controllers (Xbox, compatible gamepads):**
- **Format**: `GAMEPAD_VID_ButtonName[+ButtonName...]` (readable format)
- **Buttons**: `A`, `B`, `X`, `Y`, `Start`, `Back`, `LB`, `RB`, `LS_Click`, `RS_Click`, `LT`, `RT`
- **D-Pad**: `DPad_Up`, `DPad_Down`, `DPad_Left`, `DPad_Right`, `DPad_UpLeft`, `DPad_UpRight`, `DPad_DownLeft`, `DPad_DownRight`
- **Left Stick**: `LS_Up`, `LS_Down`, `LS_Left`, `LS_Right`, `LS_LeftUp`, `LS_LeftDown`, `LS_RightUp`, `LS_RightDown`
- **Right Stick**: `RS_Up`, `RS_Down`, `RS_Left`, `RS_Right`, `RS_LeftUp`, `RS_LeftDown`, `RS_RightUp`, `RS_RightDown`
- **Combos**: Use `+` to combine buttons (e.g., `GAMEPAD_045E_LS_RightUp+A+B`)
- **Examples**: 
  - `GAMEPAD_045E_A` - Xbox controller A button
  - `GAMEPAD_045E_LS_RightUp+A` - Left stick right-up + A button
  - `GAMEPAD_045E_DPad_Up+B+X` - D-Pad up + B + X buttons

**Raw Input Devices (other gamepads, joysticks):**
- **Format**: `DEVICE_VID_PID_SERIAL_Bx.x` (with serial) or `DEVICE_VID_PID_DEVxxxxxxxx_Bx.x` (without serial)
- First-time device activation required to establish baseline
- Supports single button and combo key mapping
- Example format: `GAMEPAD_045E_028E_A`, `JOYSTICK_046D_C21D_B1`

**GUI Capture Notes:**
- **Print Screen (SNAPSHOT)**: Requires two key presses to capture due to Windows API timing
- **Windows Keys (LWIN/RWIN)**: Will trigger Start menu during capture; return to application to verify
- **Mouse Movement**: Click movement button (âŒ–) to open direction selector
- **Mouse Scroll**: Click scroll button (ğŸ¡) to open direction selector
- **HID Devices**: First-time use triggers activation dialog; press and release a button to establish baseline
- **HID Combo Keys**: Press all buttons, then release all to capture
- **Other Keys**: Single press to capture

Full support for standard Windows virtual key codes, mouse buttons, and HID controllers is included.

---

## ğŸš€ Getting Started

### â–¶ï¸ Quick Start

1. **Download** or build `sorahk.exe`
2. **Place** it in any directory of your choice
3. **Run** the executable â€“ it will auto-generate `Config.toml` on first launch
4. **Configure** settings using the GUI or by editing `Config.toml` directly
5. **Press** the switch key (default: `DELETE`) to toggle turbo-fire on/off

### ğŸ® GUI Key Capture

When capturing keys through the settings dialog:

1. **Click the Capture button** for the trigger or target key field
2. **Press the desired key(s)** â€“ the capture completes when the first key is released
3. For **combo keys**, hold all keys down, then release to capture the full combination
4. For **single modifier keys** (e.g., `LSHIFT` alone), press and release the modifier

**Special Key Behavior:**
- **Print Screen (SNAPSHOT)**: Press the key twice to capture reliably. This is due to Windows API timing constraints and does not affect functionality once configured.
- **Windows Keys (LWIN/RWIN)**: Capturing these keys will trigger the Start menu. Return to the application window to verify the capture was successful. Once configured, these keys will function normally for auto-fire without triggering the Start menu.

### ğŸ”¨ Building from Source

**Prerequisites:**
- [Rust](https://rustup.rs/) (stable channel via rustup)
- Windows 10 or later

**Build Steps:**

```bash
# Clone the repository
git clone https://github.com/llnut/Sorahk.git
cd Sorahk

# Build standard release version
cargo build --release

# Build with AVX2 optimization (optional, for better performance)
RUSTFLAGS="-C target-feature=+avx2" cargo build --release

# The executable will be at: target\release\sorahk.exe
```

**Note**: Pre-built releases include both versions:
- `sorahk-x.y.z-$target.zip` - Standard (compatible with all x86_64 CPUs)
- `sorahk-avx2-x.y.z-$target.zip` - AVX2-optimized (requires AVX2 support)

---

## ğŸ§ª Testing

Sorahk includes a test suite covering core functionality. For detailed information, see [TESTING.md](TESTING.md).

### Quick Start

Run all tests on Windows:

```bash
# Run all tests
cargo test

# Run specific test module
cargo test --lib config::tests

# Run with verbose output
cargo test -- --nocapture
```

Or use the provided test script:

```batch
run_tests.bat
```

### Test Coverage

- **Configuration Management**: Loading, saving, and validation
- **Key Mapping**: Virtual key code conversion and scancode mapping
- **Mouse Support**: Button name parsing, event handling, and movement direction validation
- **HID Devices**: Device ID generation, baseline management, and combo key capture
- **XInput Controllers**: Button detection, analog stick mapping, trigger filtering, and hash generation
- **Internationalization**: Multi-language support and translations
- **Worker Pool**: Event distribution and multi-threading
- **Integration**: Cross-module interactions and data persistence

For additional testing documentation, see [TESTING.md](TESTING.md).

---

## ğŸ“Š Performance Benchmarks

**Sorahk v0.3.0** has been benchmarked against **AutoHotkey v2.0.19** using microsecond-precision measurements. The tests were conducted with a 5ms target interval (200 Hz) across three scenarios.

### ğŸ”¬ Test Methodology

Performance data was collected using [sorahk-perf-monitor](https://github.com/llnut/sorahk-perf-monitor), a specialized keyboard event recorder with RDTSC-based timing. Each test recorded 1000 events to ensure statistical reliability.

### ğŸ“ˆ Results Summary

<table>
<tr>
<th>Test Scenario</th>
<th>Tool</th>
<th>Avg Interval</th>
<th>Actual Rate</th>
<th>Std Deviation</th>
</tr>
<tr>
<td rowspan="2"><b>Single Key (Same)</b><br/><sub>A â†’ A</sub></td>
<td>Sorahk v0.3.0</td>
<td>9.47 ms</td>
<td>105.55 Hz</td>
<td>6.69 ms</td>
</tr>
<tr>
<td>AutoHotkey v2.0.19</td>
<td>32.67 ms</td>
<td>30.61 Hz</td>
<td>8.21 ms</td>
</tr>
<tr>
<td rowspan="2"><b>Single Key (Different)</b><br/><sub>A â†’ B</sub></td>
<td>Sorahk v0.3.0</td>
<td>12.90 ms</td>
<td>77.53 Hz</td>
<td>4.23 ms</td>
</tr>
<tr>
<td>AutoHotkey v2.0.19</td>
<td>32.23 ms</td>
<td>31.03 Hz</td>
<td>8.03 ms</td>
</tr>
<tr>
<td rowspan="2"><b>Concurrent (3 Keys)</b><br/><sub>Aâ†’1, Bâ†’2, Câ†’3</sub></td>
<td>Sorahk v0.3.0</td>
<td>15.63 ms</td>
<td>64.00 Hz</td>
<td>0.96 ms</td>
</tr>
<tr>
<td>AutoHotkey v2.0.19</td>
<td>49.13 ms</td>
<td>20.43 Hz</td>
<td>32.35 ms</td>
</tr>
</table>

*Concurrent test values represent averages across all three keys.*

### ğŸ¯ Key Observations

**Single Key Performance:**
- Sorahk v0.3.0 shows **3.4x higher** turbo rate compared to AutoHotkey v2.0.19 in same-key scenarios
- Sorahk v0.3.0 shows **2.5x higher** turbo rate compared to AutoHotkey v2.0.19 in cross-key scenarios
- Both tools maintain consistent performance characteristics in single-key workloads

**Concurrent Performance:**
- Sorahk v0.3.0 maintains a **64 Hz** average rate across three simultaneous turbo keys
- AutoHotkey v2.0.19 averages **20 Hz** under the same conditions, resulting in **3.1x difference**
- Sorahk's multi-threaded architecture scales well with multiple active mappings

**Timing Consistency:**
- Sorahk v0.3.0 shows **0.96ms standard deviation** in concurrent scenarios
- AutoHotkey v2.0.19 shows **32.35ms standard deviation** under the same conditions
- Sorahk's lock-free worker pool architecture contributes to stable interval timing

### ğŸ“ Test Environment

**Hardware Configuration:**
- **Processor**: Intel Core i9-13900H (13th Gen) @ 2.60 GHz base clock
- **Memory**: 32 GB RAM
- **Architecture**: x86_64

**Software Configuration:**
- **Operating System**: Windows 11 23H2
- **Sorahk Version**: 0.3.0
- **AutoHotkey Version**: 2.0.19
- **Measurement Tool**: sorahk-perf-monitor with RDTSC timing (calibrated at 2995.19 MHz)

**Test Parameters:**
- Target interval: 5ms (200 Hz theoretical maximum)
- Sample size: 1000 events per test
- Both tools configured with equivalent settings where applicable

---


## ğŸ¤ Contributing

Contributions are accepted through issues and pull requests. Please report bugs or suggest features via issues. Code contributions should follow Rust conventions and maintain compatibility with existing functionality.

---

## ğŸ“„ License

**MIT License** â€“ see the [LICENSE](LICENSE) file for details.

---

## ğŸ™Œ Acknowledgements

Sorahk is built using modern Rust technologies:

- ğŸ¦€ **[Rust](https://www.rust-lang.org/)** â€“ Memory safety and zero-cost abstractions
- ğŸªŸ **[windows-rs](https://crates.io/crates/windows)** â€“ Native Windows API access
- ğŸ¨ **[egui](https://crates.io/crates/egui)** â€“ Immediate mode GUI framework
- ğŸ–¼ï¸ **[eframe](https://crates.io/crates/eframe)** â€“ egui application framework
- ğŸ“ **[toml](https://crates.io/crates/toml)** â€“ Configuration file parsing
